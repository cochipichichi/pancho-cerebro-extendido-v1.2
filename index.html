<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#0b1020">
  <title>Cerebro Extendido Â· Pancho v1.0</title>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="assets/icons/icon-192.png">
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <header class="topbar" role="banner">
    <div class="topbar-inner">
      <a class="brand" href="index.html" aria-label="Ir al Dashboard">
        <img src="assets/img/logo.svg" alt="Cerebro Extendido">
        <div class="title">
          <strong>Cerebro Extendido</strong>
          <span>Dashboard TDAH Â· Pancho v1.0</span>
        </div>
      </a>
      <nav class="nav" aria-label="NavegaciÃ³n principal">
        <a class="btn small" data-nav href="index.html">ğŸ  Dashboard</a>
        <a class="btn small" data-nav href="pages/weekly.html">ğŸ—“ï¸ Semana</a>
        <a class="btn small" data-nav href="pages/manual.html">ğŸ“˜ Manual</a>
        <a class="btn small" data-nav href="pages/data.html">ğŸ“Š Datos</a>
      </nav>
    </div>
    <div class="topbar-inner" style="padding-top:0; padding-bottom:12px">
      <div class="row" style="gap:8px">
        <span class="pill">Controles inclusivos</span>
        <button class="btn small" id="btnTheme" title="Tema">ğŸŒ™/â˜€ï¸ Tema</button>
        <button class="btn small" id="btnContrast" title="Alto contraste">â™¿ Contraste</button>
        <button class="btn small" id="btnFontDown" title="Disminuir tamaÃ±o de letra">Aâˆ’</button>
        <button class="btn small" id="btnFontUp" title="Aumentar tamaÃ±o de letra">A+</button>
        <button class="btn small" id="btnNarrator" aria-pressed="false" title="Narrador">ğŸ”ˆ Narrador: OFF</button>
        <button class="btn small" id="btnFocus" title="Modo Hoy (ultra-foco)">ğŸ§  Modo Hoy</button>
        <button class="btn small" id="btnCrisis" title="Modo saturaciÃ³n">ğŸš¨ Estoy saturado</button>
      </div>
      <div class="row" style="gap:8px">
        <button class="btn small ghost" id="btnExport" title="Exportar backup JSON">â¬‡ï¸ Exportar</button>
        <input type="file" id="fileImport" accept="application/json" hidden>
        <button class="btn small ghost" id="btnImport" title="Importar backup JSON">â¬†ï¸ Importar</button>
        <button class="btn small ghost" id="btnReset" title="Reiniciar datos locales">ğŸ§¹ Reset</button>
      </div>
    </div>
  </header>
  <main class="container" role="main">

    <section class="grid" aria-label="Resumen">
      <div class="card col-8 focus-keep">
        <div class="card-header">
          <div class="card-title">
            <h2>ğŸ¯ Hoy (mÃ©todo 1â€“3â€“5)</h2>
            <p>Si sale la <strong>1 crÃ­tica</strong>, el dÃ­a fue exitoso. Lo demÃ¡s es ganancia.</p>
          </div>
          <div class="tags">
            <span class="badge">ğŸ”¥ Racha crÃ­tica: <strong id="streak">0 dÃ­as</strong></span>
            <span class="tag warn" id="energyBadge">EnergÃ­a: Sin datos</span>
            <button class="btn small" id="criticalDone">âœ… Marcar crÃ­tica hecha</button>
          </div>
        </div>
        <div class="card-body">
          <div class="row" style="justify-content:space-between; margin-bottom:10px">
            <div class="mini" id="energyRec">RecomendaciÃ³n: Gestionar</div>
            <button class="btn small ghost" id="applySuggestedMode">ğŸ›ï¸ Aplicar a Bloque 1</button>
          </div>
          <div class="timer focus-only" id="timerWrap" style="display:none">
            <div class="label" id="timerLabel">Timer</div>
            <div class="row" style="justify-content:space-between; align-items:center; margin-top:6px">
              <div class="time" id="timerTime">25:00</div>
              <div class="row">
                <button class="btn small" id="timerStop">â¹ï¸ Detener</button>
                <button class="btn small" id="timerDone">âœ… Registrar</button>
              </div>
            </div>
          </div>
          <div class="row focus-only" style="margin:10px 0 2px">
            <button class="btn" id="timer25">â±ï¸ 25 min</button>
            <button class="btn" id="timer50">â±ï¸ 50 min</button>
          </div>

          <div class="cols">
            <div class="col-6">
              <label class="mini">1 CrÃ­tica</label>
              <input class="input" id="tCritical" placeholder="Ej: Enviar correo clave / cerrar demo / preparar documento">
              <div class="hr"></div>
              <label class="mini">3 Importantes</label>
              <div class="list">
                <input class="input" id="tImp1" placeholder="Importante 1">
                <input class="input" id="tImp2" placeholder="Importante 2">
                <input class="input" id="tImp3" placeholder="Importante 3">
              </div>
            </div>
            <div class="col-6">
              <label class="mini">5 Menores</label>
              <div class="list">
                <input class="input" id="tMin1" placeholder="Menor 1">
                <input class="input" id="tMin2" placeholder="Menor 2">
                <input class="input" id="tMin3" placeholder="Menor 3">
                <input class="input" id="tMin4" placeholder="Menor 4">
                <input class="input" id="tMin5" placeholder="Menor 5">
              </div>
              <div class="hr"></div>
              <label class="mini">Notas</label>
              <textarea id="tNotes" class="input" placeholder="Pendientes sueltos, recordatorios, contexto..."></textarea>
            </div>
          </div>
          <div class="row" style="margin-top:12px; justify-content:flex-end">
            <button class="btn" id="todaySave">ğŸ’¾ Guardar Hoy</button>
          </div>
        </div>
      </div>

      <div class="card col-4 focus-keep">
        <div class="card-header">
          <div class="card-title">
            <h2>ğŸ“¥ INBOX (descarga mental)</h2>
            <p>Captura sin ordenar. Ordenas en la revisiÃ³n semanal.</p>
          </div>
        </div>
        <div class="card-body">
          <div class="row" style="justify-content:space-between; margin-bottom:10px">
            <div class="mini" id="energyRec">RecomendaciÃ³n: Gestionar</div>
            <button class="btn small ghost" id="applySuggestedMode">ğŸ›ï¸ Aplicar a Bloque 1</button>
          </div>
          <div class="timer focus-only" id="timerWrap" style="display:none">
            <div class="label" id="timerLabel">Timer</div>
            <div class="row" style="justify-content:space-between; align-items:center; margin-top:6px">
              <div class="time" id="timerTime">25:00</div>
              <div class="row">
                <button class="btn small" id="timerStop">â¹ï¸ Detener</button>
                <button class="btn small" id="timerDone">âœ… Registrar</button>
              </div>
            </div>
          </div>
          <div class="row focus-only" style="margin:10px 0 2px">
            <button class="btn" id="timer25">â±ï¸ 25 min</button>
            <button class="btn" id="timer50">â±ï¸ 50 min</button>
          </div>

          <div class="row">
            <input class="input" id="inboxInput" placeholder="Escribe una idea / pendiente y presiona Enter">
            <button class="btn" id="inboxAdd">â•</button>
          </div>
          <div class="hr"></div>
          <div id="inboxList" class="list" aria-live="polite"></div>
        </div>
      </div>

      <div class="card col-6">
        <div class="card-header">
          <div class="card-title">
            <h2>ğŸ§  Bloques por modo</h2>
            <p>No mezcles modos: Crear/Construir/Gestionar/Cuidar.</p>
          </div>
          <button class="btn small" id="blockAdd">â• Agregar bloque</button>
        </div>
        <div class="card-body">
          <div class="row" style="justify-content:space-between; margin-bottom:10px">
            <div class="mini" id="energyRec">RecomendaciÃ³n: Gestionar</div>
            <button class="btn small ghost" id="applySuggestedMode">ğŸ›ï¸ Aplicar a Bloque 1</button>
          </div>
          <div class="timer focus-only" id="timerWrap" style="display:none">
            <div class="label" id="timerLabel">Timer</div>
            <div class="row" style="justify-content:space-between; align-items:center; margin-top:6px">
              <div class="time" id="timerTime">25:00</div>
              <div class="row">
                <button class="btn small" id="timerStop">â¹ï¸ Detener</button>
                <button class="btn small" id="timerDone">âœ… Registrar</button>
              </div>
            </div>
          </div>
          <div class="row focus-only" style="margin:10px 0 2px">
            <button class="btn" id="timer25">â±ï¸ 25 min</button>
            <button class="btn" id="timer50">â±ï¸ 50 min</button>
          </div>

          <div id="blocksWrap" class="list"></div>
        </div>
      </div>

      <div class="card col-6">
        <div class="card-header">
          <div class="card-title">
            <h2>ğŸš€ Proyectos activos</h2>
            <p>MÃ¡ximo 3 activos. Todo lo demÃ¡s a Incubadora.</p>
          </div>
          <div class="row">
            <span class="pill" id="projCount">0/3 activos</span>
            <button class="btn small" id="projAdd">â• Nuevo activo</button>
          </div>
        </div>
        <div class="card-body">
          <div class="row" style="justify-content:space-between; margin-bottom:10px">
            <div class="mini" id="energyRec">RecomendaciÃ³n: Gestionar</div>
            <button class="btn small ghost" id="applySuggestedMode">ğŸ›ï¸ Aplicar a Bloque 1</button>
          </div>
          <div class="timer focus-only" id="timerWrap" style="display:none">
            <div class="label" id="timerLabel">Timer</div>
            <div class="row" style="justify-content:space-between; align-items:center; margin-top:6px">
              <div class="time" id="timerTime">25:00</div>
              <div class="row">
                <button class="btn small" id="timerStop">â¹ï¸ Detener</button>
                <button class="btn small" id="timerDone">âœ… Registrar</button>
              </div>
            </div>
          </div>
          <div class="row focus-only" style="margin:10px 0 2px">
            <button class="btn" id="timer25">â±ï¸ 25 min</button>
            <button class="btn" id="timer50">â±ï¸ 50 min</button>
          </div>

          <div id="projectsWrap" class="list"></div>
          <div class="hr"></div>
          <div class="row" style="justify-content:space-between">
            <div class="card-title" style="gap:2px">
              <strong>ğŸ§ª Incubadora</strong>
              <span class="mini">Ideas buenas, sin presiÃ³n.</span>
            </div>
            <button class="btn small" id="incAdd">â• Agregar</button>
          </div>
          <div class="hr"></div>
          <div id="incWrap" class="list"></div>
        </div>
      </div>
    </section>
    
    <section class="grid" aria-label="Bienestar y logros">
      <div class="card col-6">
        <div class="card-header">
          <div class="card-title">
            <h2>ğŸ Logros invisibles (antÃ­doto TDAH)</h2>
            <p>Tu cerebro suele ver lo que falta. Esto muestra lo que ya hiciste.</p>
          </div>
        </div>
        <div class="card-body">
          <div id="achievements"></div>
        </div>
      </div>

      <div class="card col-6">
        <div class="card-header">
          <div class="card-title">
            <h2>ğŸ¤ Check-in con BelÃ©n</h2>
            <p>ContenciÃ³n vs estructura. Visible, simple, sin desgaste.</p>
          </div>
          <a class="btn small" href="pages/weekly.html">ğŸ—“ï¸ Registrar</a>
        </div>
        <div class="card-body">
          <div id="checkinSummary"></div>
        </div>
      </div>
    </section>

<section class="grid">
      <div class="card">
        <div class="card-header">
          <div class="card-title">
            <h2>ğŸ§© Recordatorio clave</h2>
            <p>Tu cerebro no necesita mÃ¡s fuerza de voluntad. Necesita arquitectura visible.</p>
          </div>
          <a class="btn small" href="pages/weekly.html">ğŸ—“ï¸ Ir a revisiÃ³n semanal</a>
        </div>
        <div class="card-body">
          <div class="row" style="justify-content:space-between; margin-bottom:10px">
            <div class="mini" id="energyRec">RecomendaciÃ³n: Gestionar</div>
            <button class="btn small ghost" id="applySuggestedMode">ğŸ›ï¸ Aplicar a Bloque 1</button>
          </div>
          <div class="timer focus-only" id="timerWrap" style="display:none">
            <div class="label" id="timerLabel">Timer</div>
            <div class="row" style="justify-content:space-between; align-items:center; margin-top:6px">
              <div class="time" id="timerTime">25:00</div>
              <div class="row">
                <button class="btn small" id="timerStop">â¹ï¸ Detener</button>
                <button class="btn small" id="timerDone">âœ… Registrar</button>
              </div>
            </div>
          </div>
          <div class="row focus-only" style="margin:10px 0 2px">
            <button class="btn" id="timer25">â±ï¸ 25 min</button>
            <button class="btn" id="timer50">â±ï¸ 50 min</button>
          </div>

          <div class="tags">
            <span class="tag ok">Externo</span>
            <span class="tag ok">Visual</span>
            <span class="tag ok">Modular</span>
            <span class="tag ok">Con sentido</span>
            <span class="tag ok">En equipo (BelÃ©n)</span>
          </div>
        </div>
      </div>
    </section>

  </main>

  <div class="modal" id="crisisModal" aria-hidden="true" role="dialog" aria-label="Modo saturaciÃ³n">
    <div class="modal-card">
      <div class="modal-head">
        <div>
          <h3>ğŸš¨ Modo SaturaciÃ³n</h3>
          <div class="mini">Cuando no puedes pensar, el sistema piensa por ti.</div>
        </div>
        <button class="btn small" id="crisisClose">âœ– Cerrar</button>
      </div>
      <div class="modal-body">
        <div class="item">
          <div>
            <strong>Protocolo (20â€“40 min)</strong>
            <small>1) Pausa fÃ­sica 3â€“5 min Â· 2) Descargar INBOX Â· 3) Elegir 1 crÃ­tica mÃ­nima Â· 4) 25 min ejecuciÃ³n Â· 5) Cierre con siguiente paso</small>
          </div>
          <button class="btn small ghost" id="crisisRead">ğŸ”Š Leer</button>
        </div>

        <div class="hr"></div>

        <div class="row" style="flex-wrap:wrap">
          <button class="btn" id="crisisPause">ğŸ« Pausa 3 min</button>
          <button class="btn" id="crisisFocus25">â±ï¸ Bloque 25 min</button>
          <button class="btn" id="crisisGoInbox">ğŸ“¥ Ir a INBOX</button>
          <button class="btn" id="crisisSetCritical">ğŸ¯ Definir crÃ­tica</button>
        </div>

        <div class="hr"></div>

        <div class="mini">
          Si el narrador estÃ¡ ON, el protocolo se leerÃ¡ automÃ¡ticamente al abrir este modo.
        </div>
      </div>
    </div>
  </div>

  <footer class="footer small">
    <div class="footer-inner">
      <div class="logo">
        <img src="assets/img/logo.svg" alt="Cerebro Extendido" onerror="this.style.display='none'">
        <div>
          <div><strong>Â© NeoTech EduLab</strong> Â· Cerebro Extendido (Pancho v1.0)</div>
          <small>ğŸ› ï¸ Prohibida su copia y/o reproducciÃ³n Â· Datos guardados localmente (localStorage)</small>
        </div>
      </div>
      <div class="mini">
        <span class="kbd">Tip</span> <span id="dailyTip">Arquitectura, no voluntad.</span>
      </div>
    </div>
  </footer>

  <script type="module" src="assets/js/app.js"></script>
</body>
</html>
